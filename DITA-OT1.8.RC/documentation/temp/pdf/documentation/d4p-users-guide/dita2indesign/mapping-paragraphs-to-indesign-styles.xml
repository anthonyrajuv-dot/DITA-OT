<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\temp\pdf\documentation\d4p-users-guide\dita2indesign?><?workdir-uri file:/C:/Users/PBentley/Downloads/dita4publishers-0.9.18/documentation/temp/pdf/documentation/d4p-users-guide/dita2indesign/?><?path2project ..\..\?><?path2project-uri ../../?><concept xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="conceptId" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)       (topic indexing-d)      (topic d4p_formatting-d)      (topic d4p_ruby-d)      a(props d4p_renditionTarget)      (topic d4p_classification-d)      (topic d4p_math-d)      (topic d4p_simplebib-d)      (topic d4p_variables-d)      (topic d4p_verse-d)      (topic xml-d)      (topic abbrev-d)     " class="- topic/topic concept/concept " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="concept:1;3:25">
 <title class="- topic/title " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="title:1;4:9">Mapping XML Elements to InDesign Paragraph and Character Styles</title>
 <shortdesc class="- topic/shortdesc " xtrc="shortdesc:1;5:13" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">You define the mapping of elements to specific character and paragraph styles using simple XSLT templates.</shortdesc>
  <prolog class="- topic/prolog " xtrc="prolog:1;6:11" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">
    <author class="- topic/author " xtrc="author:1;5:21" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide.ditamap">W. Eliot Kimber</author><metadata class="- topic/metadata " xtrc="metadata:1;7:15" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">
      <keywords class="- topic/keywords " xtrc="keywords:1;8:17" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">
        <indexterm class="- topic/indexterm " xtrc="indexterm:1;9:20" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">elements in context<indexterm class="- topic/indexterm " xtrc="indexterm:2;9:50" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">mapping to InDesign styles</indexterm></indexterm>
        <indexterm class="- topic/indexterm " xtrc="indexterm:3;10:20" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">InDesign styles<indexterm class="- topic/indexterm " xtrc="indexterm:4;10:46" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml">mapping elements in context to</indexterm></indexterm>
      </keywords>
    <prodinfo class="- topic/prodinfo " xtrc="prodinfo:1;7:27" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide.ditamap">
    <prodname class="- topic/prodname " xtrc="prodname:1;8:15" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide.ditamap">DITA For Publishers</prodname>
    <vrmlist class="- topic/vrmlist " xtrc="vrmlist:1;9:14" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide.ditamap">
      <vrm class="- topic/vrm " version="0.9.16" xtrc="vrm:1;11:27" xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide.ditamap"/>
    </vrmlist>
    </prodinfo></metadata>
  </prolog>
 <conbody class="- topic/body  concept/conbody " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="conbody:1;14:11">
   <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:1;15:7">Unlike the Word-to-DITA transformation framework, which uses a separate configuration file to define the mapping of Word paragraphs to DITA elements, the DITA-to-InDesign process uses XSLT modules with very simple XSLT templates. The reason for this is that the only way to fully support mapping arbitrary elements in context to styles is to use XPath or something equivalent to it and it would be harder to define and implement a separate configuration specification that gave you that power than it would to simply code the XSLT directly.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:2;16:8">The base DITA-to-InDesign transform includes a module named <filepath class="+ topic/ph sw-d/filepath " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="filepath:1;16:78">elem2styleMapper.xsl</filepath>, which defines the default mapping for DITA elements to paragraph and character style names. However, it is unlikely that this mapping will work for some or even any of your content, since the style names need to match your InDesign templates. Thus you will likely need to create your own element-to-style mapper module that extends or overrides the base mapping, either as an extension to the DITA2InDesign plugin or via a custom top-level transform that includes your custom mapper as well as the base DITA2InDesign transform.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:3;17:8">The element-to-style mapper looks like this:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeblock:1;17:63">&lt;xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" 
      xmlns:xs="http://www.w3.org/2001/XMLSchema"
      xmlns:local="urn:local-functions"
      xmlns:df="http://dita2indesign.org/dita/functions"
      xmlns:e2s="http//dita2indesign.org/functions/element-to-style-mapping"
      exclude-result-prefixes="xs local df e2s"
      version="2.0"&gt;
  
  &lt;!-- Element-to-style mapper
    
    This module provides the base implementation for
    the "style-map" modes, which map elements in context
    to InDesign style names (paragraph, character, frame,
    object, table).
    
    Copyright (c) 2009 Really Strategies, Inc.
    
    NOTE: This material is intended to be donated to the RSI-sponsored
    DITA2InDesign open-source project.
  --&gt;
  &lt;xsl:import href="../lib/dita-support-lib.xsl"/&gt;
  &lt;xsl:import href="lib/incx_generation_util.xsl"/&gt;
  
<b class="+ topic/ph hi-d/b " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="b:1;40:4">  &lt;xsl:template match="/*[df:class(., 'topic/topic')]/*[df:class(., 'topic/title')]" 
    mode="style-map-pstyle"&gt;
    &lt;xsl:sequence select="'Topic Title 1'"/&gt;
  &lt;/xsl:template&gt;</b>
  
  &lt;xsl:template match="/*[df:class(., 'topic/topic')]/*[df:class(., 'topic/topic')]/*[df:class(., 'topic/title')]" 
    mode="style-map-pstyle"&gt;
    &lt;xsl:sequence select="'Topic Title 2'"/&gt;
  &lt;/xsl:template&gt;

  ...

  &lt;xsl:template match="*[df:class(., 'topic/ph')]" 
    mode="style-map-cstyle" priority="0.75"&gt;
    &lt;xsl:sequence select="'[No character style]'"/&gt;
  &lt;/xsl:template&gt;
  
<b class="+ topic/ph hi-d/b " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="b:2;57:4">  &lt;xsl:template match="*[df:class(., 'topic/cite')]" 
    mode="style-map-cstyle"&gt;
    &lt;xsl:sequence select="'italic'"/&gt;
  &lt;/xsl:template&gt;</b>

  ...

&lt;/xsl:stylesheet&gt;</codeblock></p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:4;65:8">The module provides templates for two different XSLT modes; style-map-pstyle and style-map-cstyle.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:5;66:8">The style-map-pstyle templates map elements in context to paragraph style names. The style-map-cstyle templates map elements to character style names. Note that the same XML element may map to both paragraphs and character runs in different contexts.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:6;67:8">Each template does nothing other than produce a literal string that is the InDesign style name. </p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:7;68:8">Looking at the first highlighted template above, the parts are:<simpletable frame="all" relcolwidth="1.0* 1.0*" class="- topic/simpletable " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="simpletable:1;70:31">
      <sthead class="- topic/sthead " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="sthead:1;71:15">
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:1;72:18">Component</stentry>
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:2;73:18">Meaning</stentry>
      </sthead>
      <strow class="- topic/strow " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="strow:1;75:14">
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:3;76:18"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeph:1;76:26">match="/*[df:class(., 'topic/topic')]/*[df:class(., 'topic/title')]"</codeph></stentry>
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:4;77:18">The match statement that matches a specific context. The value of the <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:1;77:96">match</xmlatt> attribute is an XPath expression. Here it uses the DITA Support Library "df:class" function to match on elements based on their DITA <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:2;77:252">class</xmlatt> values rather than their tagnames, e.g., title within a topic that is the root of the document (as indicated by the leading "/" in the XPath expression).</stentry>
      </strow>
      <strow class="- topic/strow " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="strow:2;79:14">
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:5;80:18"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeph:2;80:26">mode="style-map-pstyle"</codeph></stentry>
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:6;81:18">The XSLT mode this template is used in, in this case "style-map-pstyle", indicating a template that maps to a paragraph style name. The other possible mode is "style-map-cstyle"</stentry>
      </strow>
      <strow class="- topic/strow " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="strow:3;83:14">
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:7;84:18"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeph:3;84:26">&lt;xsl:sequence select="'Topic Title 1'"/&gt;</codeph></stentry>
        <stentry class="- topic/stentry " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="stentry:8;85:18">An XSLT 2 sequence constructor used to produce the literal string "Topic Title 1" per the value of the <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:3;85:129">select</xmlatt> attribute. Note the single quotes within the double quotes of the attribute specification. The style name string is the style display name as it appears in the InDesign user interface.</stentry>
      </strow>
      </simpletable></p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:8;88:8">The second highlighted example follows exactly the same pattern, differing only in the name of the mode ("style-map-cstyle") .</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:9;89:8">Your custom element-to-style mappings should follow the same pattern, differing only in the details of the <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:4;89:123">match</xmlatt> expression and the style name produced.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:10;90:8">The only otther thing you may need to add is a <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:5;90:63">priority</xmlatt> attribute when you need to have templates for more-specialized elements that would otherwise match on a template for the specialization's ancestor types. In that case, you must specify a <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:6;90:276">priority</xmlatt> attribute on the <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:1;90:320">xsl:template</xmlelem> element with a value greater than 1, e.g., <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeph:4;90:394">&lt;xsl:template priority="10" ...</codeph> or whatever number ensures the template will match before other templates the element might have matched on.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:11;91:8">For example, say your vocabulary includes a specialization of <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:2;91:79">ph</xmlelem> named "foo" and a specialization of "foo" named "bar". You want <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:3;91:165">foo</xmlelem> to map to the paragraph style "Foo" but <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:4;91:228">bar</xmlelem> to map to the paragraph style "Bar". You start by creating these two match templates:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeblock:2;91:338">  &lt;xsl:template match="*[df:class(., 'foodomain-d/foo')]" 
    mode="style-map-pstyle"&gt;
    &lt;xsl:sequence select="'Foo'"/&gt;
  &lt;/xsl:template&gt;

  &lt;xsl:template match="*[df:class(., 'bardomain-d/bar')]" 
    mode="style-map-pstyle"&gt;
    &lt;xsl:sequence select="'Bar'"/&gt;
  &lt;/xsl:template&gt;</codeblock></p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:12;100:8">If you used these templates as is you would get "ambiguous rule match" messages for <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:5;100:101">bar</xmlelem> elements because <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:6;100:141">bar</xmlelem> is a specialization of <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:7;100:187">foo</xmlelem> and thus matches both on a check for foo as well as bar (that is, the <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:7;100:279">class</xmlatt> value for <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:8;100:313">bar</xmlelem> would be something like "<codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeph:5;100:360">+ topic/ph foodomain-d/foo bardomain-d/bar </codeph>").</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:13;101:8">To remove the ambiguity you would add a <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:8;101:56">priority</xmlatt> attribute to the template for <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:9;101:113">bar</xmlelem>, forcing it to match first:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="codeblock:3;101:165">  &lt;xsl:template match="*[df:class(., 'bardomain-d/bar')]" 
    <b class="+ topic/ph hi-d/b " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="b:3;102:8">priority="10"</b>
    mode="style-map-pstyle"&gt;
    &lt;xsl:sequence select="'Bar'"/&gt;
  &lt;/xsl:template&gt;</codeblock></p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:14;106:8">Now when you run the transform all the <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:10;106:56">bar</xmlelem> elements will map to the style 'Bar' as you intended.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:15;107:8">The <xmlatt class="+ topic/keyword xml-d/xmlatt " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlatt:9;107:20">priority</xmlatt> value of "0.75" for the template for the <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:11;107:88">ph</xmlelem> element in the example above puts it's priority <i class="+ topic/ph hi-d/i " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="i:1;107:152">below</i> the default priority of "1", ensuring that the template for <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:12;107:231">ph</xmlelem> will not interfere with any templates for specializations of <xmlelem class="+ topic/keyword xml-d/xmlelem " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="xmlelem:13;107:314">ph</xmlelem>.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:16;108:8">To create your own mapping module, simply copy the base <filepath class="+ topic/ph sw-d/filepath " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="filepath:2;108:74">elem2styleMap.xsl</filepath> file to a new location, normally a Toolkit plugin for your extensions, remove all the templates you don't want to override, modify the ones you do, and add any additional mappings you need.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:17;109:8">If these mappings should be global to all InCopy generations in your environment you can use the module as an Toolkit-provided extension to the base DITA2InDesign transformation type.</p>
    <p class="- topic/p " xtrf="C:\Users\PBentley\Downloads\dita4publishers-0.9.18\documentation\d4p-users-guide\dita2indesign\mapping-paragraphs-to-indesign-styles.xml" xtrc="p:18;110:8">If, as is more likely, your mappings are for a specific use and not global to all InCopy transforms, then you must create a new plugin with a new top-level transform that includes your mapping module and the base dita2indesign.xsl transform.</p>
 </conbody>
</concept>